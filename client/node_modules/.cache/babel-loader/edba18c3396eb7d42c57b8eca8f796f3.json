{"ast":null,"code":"import _slicedToArray from\"/Users/celia/Projects/Merakey/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import SecondSide from\"./secondSide\";import React,{useEffect,useRef}from\"react\";import ReactDOM from\"react-dom\";import IsLoggedIn,{logout,getCurrentUser}from\"../utilities/loginStatus\";import{useNavigate,useParams}from\"react-router-dom\";import clockIco from\"../../images/clock.svg\";import playIco from\"../../images/play-circle.svg\";import dotsIco from\"../../images/vertical-dots.svg\";import\"./styles/yourGames.scss\";import{ToastContainer,toast,Slide}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function YourGames(){var navigate=useNavigate();React.useEffect(function(){// scroll to top\nwindow.scrollTo(0,0);getGames(id);},[]);if(getCurrentUser){// console.log(getCurrentUser);\nvar username=getCurrentUser.username;var email=getCurrentUser.email;var id=getCurrentUser.id;var roles=[];getCurrentUser.roles.forEach(function(x,i){return roles.push(x.slice(5).toLowerCase());});// console.log(roles);\n}function copyLink(text){navigator.clipboard.writeText(text).then(function(){return console.log(\"Copied to clipboard\");}).catch(function(error){return console.error(\"Error copying to clipboard: \",error);});}var closeMenu=function closeMenu(){var cardMenu=document.getElementsByClassName(\"menu-placeholder\")[0];ReactDOM.unmountComponentAtNode(cardMenu);document.body.style.overflow=\"auto\";};var revertToDraft=function revertToDraft(id){var data={published:false};fetch(\"http://localhost:8080/api/games/\".concat(id),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(data)}).then(function(response){return response.json();}).then(function(data){console.log(\"Success:\",data);toast.success(\"Game reverted to draft.\",{position:toast.POSITION.BOTTOM_RIGHT,onClose:function onClose(){return document.location.reload();}});}).catch(function(error){console.error(\"Error:\",error);toast.error(error,{position:toast.POSITION.BOTTOM_RIGHT});});};var publishGame=function publishGame(id){var data={published:true};fetch(\"http://localhost:8080/api/games/\".concat(id),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(data)}).then(function(response){return response.json();}).then(function(data){console.log(\"Success:\",data);toast.success(\"Your game is published!\",{position:toast.POSITION.BOTTOM_RIGHT,onClose:function onClose(){return document.location.reload();}});}).catch(function(error){console.error(\"Error:\",error);toast.error(error,{position:toast.POSITION.BOTTOM_RIGHT});});};var deleteGame=function deleteGame(id){if(window.confirm(\"Are you sure you want to delete this game?\")){// User clicked OK\n// Execute your delete code here\nfetch(\"http://localhost:8080/api/games/\".concat(id),{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\"}}).then(function(response){return response.json();}).then(function(data){console.log(\"Success:\",data);toast.success(\"Your game is deleted!\",{position:toast.POSITION.BOTTOM_RIGHT,onClose:function onClose(){return document.location.reload();}});}).catch(function(error){console.error(\"Error:\",error);toast.error(error,{position:toast.POSITION.BOTTOM_RIGHT});});}closeMenu();};function useOutsideAlerter(ref){React.useEffect(function(){function handleClickOutside(event){if(ref.current&&!ref.current.contains(event.target)){closeMenu();}}document.addEventListener(\"mousedown\",handleClickOutside);return function(){document.removeEventListener(\"mousedown\",handleClickOutside);};},[ref]);}var wrapperRef=useRef(null);useOutsideAlerter(wrapperRef);var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),games=_React$useState2[0],setGames=_React$useState2[1];var _React$useState3=React.useState(\"all\"),_React$useState4=_slicedToArray(_React$useState3,2),tabState=_React$useState4[0],setTabState=_React$useState4[1];var getGames=function getGames(userId){fetch(\"http://localhost:8080/api/profiles/games/\".concat(userId),{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}}).then(function(res){return res.json();}).then(function(data){setGames(data.games);});};var showMenu=function showMenu(event,game){var clientX=event.clientX,clientY=event.clientY;console.log(\"X: \",clientX,\"Y: \",clientY);document.body.style.overflow=\"hidden\";if(clientY+180>window.innerHeight){clientY=window.innerHeight-120-60;}if(clientX+15+170>window.innerWidth){clientX=window.innerWidth-145;}console.log(\"Y: \",clientY);ReactDOM.render(/*#__PURE__*/_jsxs(\"div\",{className:\"card-menu\",ref:wrapperRef,style:{top:clientY+15,left:clientX-30},children:[/*#__PURE__*/_jsx(\"a\",{onClick:function onClick(){navigate(\"/user/edit/\"+game.id);closeMenu();},children:\"Edit game\"}),game.published&&/*#__PURE__*/_jsx(\"a\",{onClick:function onClick(){return revertToDraft(game.id);},children:\"Revert to draft\"}),!game.published&&/*#__PURE__*/_jsx(\"a\",{onClick:function onClick(){return publishGame(game.id);},children:\"Publish game\"}),/*#__PURE__*/_jsx(\"a\",{onClick:function onClick(){return deleteGame(game.id);},children:\"Delete game\"}),/*#__PURE__*/_jsx(\"a\",{onClick:function onClick(){copyLink(\"http://localhost:8000/games/\"+game.id);closeMenu();toast.success(\"URL is copied to clipboard!\",{position:toast.POSITION.BOTTOM_RIGHT});},children:\"Share game\"})]}),document.getElementsByClassName(\"menu-placeholder\")[0]);};function renderGameCard(game){return/*#__PURE__*/_jsxs(\"div\",{className:\"game-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cover\",onClick:function onClick(){return navigate(\"/games/\".concat(game.id));},children:/*#__PURE__*/_jsx(\"img\",{src:game.coverR})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-descriptions\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"menu-container\",onClick:function onClick(event){showMenu(event,game);},children:/*#__PURE__*/_jsx(\"img\",{src:dotsIco})}),/*#__PURE__*/_jsx(\"div\",{className:\"menu-placeholder\"}),/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){return navigate(\"/games/\".concat(game.id));},children:[!game.published&&\"[draft] \",game.name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"meta-data\",onClick:function onClick(){return navigate(\"/games/\".concat(game.id));},children:[/*#__PURE__*/_jsxs(\"p\",{className:\"views\",children:[/*#__PURE__*/_jsx(\"img\",{src:playIco}),game.views]}),/*#__PURE__*/_jsxs(\"p\",{className:\"time\",children:[/*#__PURE__*/_jsx(\"img\",{src:clockIco}),game.createdAt.split(\"T\")[0]]})]})]})]},game.id);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(SecondSide,{}),/*#__PURE__*/_jsxs(\"section\",{className:\"user-main\",children:[/*#__PURE__*/_jsx(ToastContainer,{autoClose:2000,theme:\"dark\",transition:Slide}),/*#__PURE__*/_jsxs(\"div\",{className:\"title-container\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Your Games (\",games.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"menu\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{className:\"tab \".concat(tabState==\"all\"&&\"active\"),onClick:function onClick(){return setTabState(\"all\");},children:\"All\"}),/*#__PURE__*/_jsx(\"li\",{className:\"tab \".concat(tabState==\"published\"&&\"active\"),onClick:function onClick(){return setTabState(\"published\");},children:\"Published\"}),/*#__PURE__*/_jsx(\"li\",{className:\"tab \".concat(tabState==\"drafts\"&&\"active\"),onClick:function onClick(){return setTabState(\"drafts\");},children:\"Drafts\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"games-container\",children:games.map(function(game){return tabState==\"published\"?game.published==true&&renderGameCard(game):tabState==\"drafts\"?game.published==false&&renderGameCard(game):renderGameCard(game);})})]})]});}export default YourGames;","map":{"version":3,"names":["SecondSide","React","useEffect","useRef","ReactDOM","IsLoggedIn","logout","getCurrentUser","useNavigate","useParams","clockIco","playIco","dotsIco","ToastContainer","toast","Slide","YourGames","navigate","window","scrollTo","getGames","id","username","email","roles","forEach","x","i","push","slice","toLowerCase","copyLink","text","navigator","clipboard","writeText","then","console","log","catch","error","closeMenu","cardMenu","document","getElementsByClassName","unmountComponentAtNode","body","style","overflow","revertToDraft","data","published","fetch","method","headers","JSON","stringify","response","json","success","position","POSITION","BOTTOM_RIGHT","onClose","location","reload","publishGame","deleteGame","confirm","useOutsideAlerter","ref","handleClickOutside","event","current","contains","target","addEventListener","removeEventListener","wrapperRef","useState","games","setGames","tabState","setTabState","userId","res","showMenu","game","clientX","clientY","innerHeight","innerWidth","render","top","left","renderGameCard","coverR","name","views","createdAt","split","length","map"],"sources":["/Users/celia/Projects/Merakey/client/src/components/user/yourGames.js"],"sourcesContent":["import SecondSide from \"./secondSide\";\nimport React, { useEffect, useRef } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport IsLoggedIn, { logout, getCurrentUser } from \"../utilities/loginStatus\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport clockIco from \"../../images/clock.svg\";\nimport playIco from \"../../images/play-circle.svg\";\nimport dotsIco from \"../../images/vertical-dots.svg\";\nimport \"./styles/yourGames.scss\";\nimport { ToastContainer, toast, Slide } from \"react-toastify\";\n\nfunction YourGames() {\n  const navigate = useNavigate();\n  React.useEffect(() => {\n    // scroll to top\n    window.scrollTo(0, 0);\n    getGames(id);\n  }, []);\n  if (getCurrentUser) {\n    // console.log(getCurrentUser);\n    var username = getCurrentUser.username;\n    var email = getCurrentUser.email;\n    var id = getCurrentUser.id;\n    var roles = [];\n    getCurrentUser.roles.forEach((x, i) =>\n      roles.push(x.slice(5).toLowerCase())\n    );\n    // console.log(roles);\n  }\n\n  function copyLink(text) {\n    navigator.clipboard\n      .writeText(text)\n      .then(() => console.log(\"Copied to clipboard\"))\n      .catch((error) => console.error(\"Error copying to clipboard: \", error));\n  }\n  const closeMenu = () => {\n    const cardMenu = document.getElementsByClassName(\"menu-placeholder\")[0];\n    ReactDOM.unmountComponentAtNode(cardMenu);\n    document.body.style.overflow = \"auto\";\n  };\n  const revertToDraft = (id) => {\n    const data = { published: false };\n    fetch(`http://localhost:8080/api/games/${id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(data),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(\"Success:\", data);\n        toast.success(\"Game reverted to draft.\", {\n          position: toast.POSITION.BOTTOM_RIGHT,\n          onClose: () => document.location.reload(),\n        });\n      })\n      .catch((error) => {\n        console.error(\"Error:\", error);\n        toast.error(error, {\n          position: toast.POSITION.BOTTOM_RIGHT,\n        });\n      });\n  };\n  const publishGame = (id) => {\n    const data = { published: true };\n    fetch(`http://localhost:8080/api/games/${id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(data),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(\"Success:\", data);\n        toast.success(\"Your game is published!\", {\n          position: toast.POSITION.BOTTOM_RIGHT,\n          onClose: () => document.location.reload(),\n        });\n      })\n      .catch((error) => {\n        console.error(\"Error:\", error);\n        toast.error(error, {\n          position: toast.POSITION.BOTTOM_RIGHT,\n        });\n      });\n  };\n  const deleteGame = (id) => {\n    if (window.confirm(\"Are you sure you want to delete this game?\")) {\n      // User clicked OK\n      // Execute your delete code here\n      fetch(`http://localhost:8080/api/games/${id}`, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      })\n        .then((response) => response.json())\n        .then((data) => {\n          console.log(\"Success:\", data);\n          toast.success(\"Your game is deleted!\", {\n            position: toast.POSITION.BOTTOM_RIGHT,\n            onClose: () => document.location.reload(),\n          });\n        })\n        .catch((error) => {\n          console.error(\"Error:\", error);\n          toast.error(error, {\n            position: toast.POSITION.BOTTOM_RIGHT,\n          });\n        });\n    }\n    closeMenu();\n  };\n  function useOutsideAlerter(ref) {\n    React.useEffect(() => {\n      function handleClickOutside(event) {\n        if (ref.current && !ref.current.contains(event.target)) {\n          closeMenu();\n        }\n      }\n      document.addEventListener(\"mousedown\", handleClickOutside);\n      return () => {\n        document.removeEventListener(\"mousedown\", handleClickOutside);\n      };\n    }, [ref]);\n  }\n  const wrapperRef = useRef(null);\n  useOutsideAlerter(wrapperRef);\n  const [games, setGames] = React.useState([]);\n  const [tabState, setTabState] = React.useState(\"all\");\n  const getGames = (userId) => {\n    fetch(`http://localhost:8080/api/profiles/games/${userId}`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setGames(data.games);\n      });\n  };\n\n  const showMenu = (event, game) => {\n    var { clientX, clientY } = event;\n    console.log(\"X: \", clientX, \"Y: \", clientY);\n    document.body.style.overflow = \"hidden\";\n    if (clientY + 180 > window.innerHeight) {\n      clientY = window.innerHeight - 120 - 60;\n    }\n    if (clientX + 15 + 170 > window.innerWidth) {\n      clientX = window.innerWidth - 145;\n    }\n    console.log(\"Y: \", clientY);\n    ReactDOM.render(\n      <div\n        className=\"card-menu\"\n        ref={wrapperRef}\n        style={{ top: clientY + 15, left: clientX - 30 }}\n      >\n        <a\n          onClick={() => {\n            navigate(\"/user/edit/\" + game.id);\n            closeMenu();\n          }}\n        >\n          Edit game\n        </a>\n        {game.published && (\n          <a onClick={() => revertToDraft(game.id)}>Revert to draft</a>\n        )}\n        {!game.published && (\n          <a onClick={() => publishGame(game.id)}>Publish game</a>\n        )}\n        <a onClick={() => deleteGame(game.id)}>Delete game</a>\n        <a\n          onClick={() => {\n            copyLink(\"http://localhost:8000/games/\" + game.id);\n            closeMenu();\n            toast.success(\"URL is copied to clipboard!\", {\n              position: toast.POSITION.BOTTOM_RIGHT,\n            });\n          }}\n        >\n          Share game\n        </a>\n      </div>,\n      document.getElementsByClassName(\"menu-placeholder\")[0]\n    );\n  };\n  function renderGameCard(game) {\n    return (\n      <div className=\"game-card\" key={game.id}>\n        <div className=\"cover\" onClick={() => navigate(`/games/${game.id}`)}>\n          <img src={game.coverR} />\n        </div>\n        <div className=\"card-descriptions\">\n          <div\n            className=\"menu-container\"\n            onClick={function (event) {\n              showMenu(event, game);\n            }}\n          >\n            <img src={dotsIco} />\n          </div>\n          <div className=\"menu-placeholder\"></div>\n          <span onClick={() => navigate(`/games/${game.id}`)}>\n            {!game.published && \"[draft] \"}\n            {game.name}\n          </span>\n\n          <div\n            className=\"meta-data\"\n            onClick={() => navigate(`/games/${game.id}`)}\n          >\n            <p className=\"views\">\n              <img src={playIco} />\n              {game.views}\n            </p>\n            <p className=\"time\">\n              <img src={clockIco} />\n              {game.createdAt.split(\"T\")[0]}\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n  return (\n    <>\n      <SecondSide />\n      <section className=\"user-main\">\n        <ToastContainer autoClose={2000} theme=\"dark\" transition={Slide} />\n        <div className=\"title-container\">\n          <h2>Your Games ({games.length})</h2>\n          <div className=\"menu\">\n            <ul>\n              <li\n                className={`tab ${tabState == \"all\" && \"active\"}`}\n                onClick={() => setTabState(\"all\")}\n              >\n                All\n              </li>\n              <li\n                className={`tab ${tabState == \"published\" && \"active\"}`}\n                onClick={() => setTabState(\"published\")}\n              >\n                Published\n              </li>\n              <li\n                className={`tab ${tabState == \"drafts\" && \"active\"}`}\n                onClick={() => setTabState(\"drafts\")}\n              >\n                Drafts\n              </li>\n            </ul>\n          </div>\n        </div>\n        <div className=\"games-container\">\n          {games.map((game) =>\n            tabState == \"published\"\n              ? game.published == true && renderGameCard(game)\n              : tabState == \"drafts\"\n              ? game.published == false && renderGameCard(game)\n              : renderGameCard(game)\n          )}\n        </div>\n      </section>\n    </>\n  );\n}\nexport default YourGames;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}