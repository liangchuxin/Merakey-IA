{"ast":null,"code":"import _slicedToArray from\"/Users/celia/Projects/Merakey/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import SecondSide from\"./secondSide\";import React,{useEffect,useRef}from\"react\";import IsLoggedIn,{logout,getCurrentUser}from\"../utilities/loginStatus\";import\"./styles/userComments.scss\";import{useNavigate}from\"react-router-dom\";// icons\nimport messageIco from\"./icons/message-square.svg\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function UserComments(){var navigate=useNavigate();var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),comments=_React$useState2[0],setComments=_React$useState2[1];var getComments=function getComments(userId){fetch(\"http://localhost:8080/api/profiles/\".concat(userId),{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}}).then(function(res){return res.json();}).then(function(data){setComments(data.comments);});};if(getCurrentUser){// console.log(getCurrentUser);\nvar username=getCurrentUser.username;var email=getCurrentUser.email;var id=getCurrentUser.id;var roles=[];getCurrentUser.roles.forEach(function(x,i){return roles.push(x.slice(5).toLowerCase());});}React.useEffect(function(){getComments(id);},[]);React.useEffect(function(){// scroll to top\nwindow.scrollTo(0,0);},[]);var formatTime=function formatTime(t){var time=new Date(t);var hr=time.getHours();var min=time.getMinutes();var sc=time.getSeconds();return/*#__PURE__*/_jsxs(_Fragment,{children:[time.toISOString().split(\"T\")[0],\"\\xA0\\xA0\",hr,\":\",min,\":\",sc]});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(SecondSide,{}),/*#__PURE__*/_jsxs(\"section\",{class:\"user-main comments\",style:{margin:\"0 -30px 0 240px\"},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(\"img\",{src:messageIco}),/*#__PURE__*/_jsx(\"span\",{children:\"Comment Management\"})]}),comments.length!=0?/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsxs(\"tr\",{style:{backgroundColor:\"#4b494921\",fontWeight:\"900\"},children:[/*#__PURE__*/_jsx(\"td\",{children:\"id\"}),/*#__PURE__*/_jsx(\"td\",{style:{width:\"130px\"},children:\"Parent id\"}),/*#__PURE__*/_jsx(\"td\",{style:{width:\"450px\"},children:\"Content\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Game\"}),/*#__PURE__*/_jsx(\"td\",{style:{width:\"200px\"},children:\"Date\"}),/*#__PURE__*/_jsx(\"td\",{style:{width:\"100px\"},children:\"Actions\"})]}),comments.map(function(comment){return/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return navigate(\"/games/\".concat(comment.gameId));},style:{cursor:\"pointer\"},children:[/*#__PURE__*/_jsx(\"td\",{children:comment.id}),/*#__PURE__*/_jsx(\"td\",{children:comment.parentId!==null&&comment.parentId}),/*#__PURE__*/_jsx(\"td\",{children:comment.text}),/*#__PURE__*/_jsx(\"td\",{children:comment.gameId}),/*#__PURE__*/_jsx(\"td\",{children:formatTime(Date.parse(comment.createdAt))}),/*#__PURE__*/_jsx(\"td\",{children:\"View\"})]});})]}):/*#__PURE__*/_jsx(\"div\",{style:{color:\"#626262\",textAlign:\"left\",fontFamily:\"poppins\",marginTop:\"35px\"},children:\"You do not have any comments!\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-overlay\"})]})]});}export default UserComments;","map":{"version":3,"names":["SecondSide","React","useEffect","useRef","IsLoggedIn","logout","getCurrentUser","useNavigate","messageIco","UserComments","navigate","useState","comments","setComments","getComments","userId","fetch","method","headers","then","res","json","data","username","email","id","roles","forEach","x","i","push","slice","toLowerCase","window","scrollTo","formatTime","t","time","Date","hr","getHours","min","getMinutes","sc","getSeconds","toISOString","split","margin","length","backgroundColor","fontWeight","width","map","comment","gameId","cursor","parentId","text","parse","createdAt","color","textAlign","fontFamily","marginTop"],"sources":["/Users/celia/Projects/Merakey/client/src/components/user/userComments.js"],"sourcesContent":["import SecondSide from \"./secondSide\";\nimport React, { useEffect, useRef } from \"react\";\nimport IsLoggedIn, { logout, getCurrentUser } from \"../utilities/loginStatus\";\nimport \"./styles/userComments.scss\";\nimport { useNavigate } from \"react-router-dom\";\n// icons\nimport messageIco from \"./icons/message-square.svg\";\n\nfunction UserComments() {\n  const navigate = useNavigate();\n  const [comments, setComments] = React.useState([]);\n  const getComments = (userId) => {\n    fetch(`http://localhost:8080/api/profiles/${userId}`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setComments(data.comments);\n      });\n  };\n  if (getCurrentUser) {\n    // console.log(getCurrentUser);\n    var username = getCurrentUser.username;\n    var email = getCurrentUser.email;\n    var id = getCurrentUser.id;\n    var roles = [];\n    getCurrentUser.roles.forEach((x, i) =>\n      roles.push(x.slice(5).toLowerCase())\n    );\n  }\n  React.useEffect(() => {\n    getComments(id);\n  }, []);\n  React.useEffect(() => {\n    // scroll to top\n    window.scrollTo(0, 0);\n  }, []);\n  const formatTime = (t) => {\n    let time = new Date(t);\n    var hr = time.getHours();\n    var min = time.getMinutes();\n    var sc = time.getSeconds();\n    return (\n      <>\n        {time.toISOString().split(\"T\")[0]}&nbsp;&nbsp;{hr}:{min}:{sc}\n      </>\n    );\n  };\n\n  return (\n    <>\n      <SecondSide />\n      <section class=\"user-main comments\" style={{ margin: `0 -30px 0 240px` }}>\n        <div>\n          <h2>\n            <img src={messageIco} />\n            <span>Comment Management</span>\n          </h2>\n          {comments.length != 0 ? (\n            <table>\n              <tr style={{ backgroundColor: `#4b494921`, fontWeight: `900` }}>\n                <td>id</td>\n                <td style={{ width: `130px` }}>Parent id</td>\n                <td style={{ width: `450px` }}>Content</td>\n                <td>Game</td>\n                <td style={{ width: `200px` }}>Date</td>\n                <td style={{ width: `100px` }}>Actions</td>\n              </tr>\n              {comments.map((comment) => (\n                <tr\n                  onClick={() => navigate(`/games/${comment.gameId}`)}\n                  style={{ cursor: `pointer` }}\n                >\n                  <td>{comment.id}</td>\n                  <td>{comment.parentId !== null && comment.parentId}</td>\n                  <td>{comment.text}</td>\n                  <td>{comment.gameId}</td>\n                  <td>{formatTime(Date.parse(comment.createdAt))}</td>\n                  <td>View</td>\n                </tr>\n              ))}\n            </table>\n          ) : (\n            <div\n              style={{\n                color: `#626262`,\n                textAlign: `left`,\n                fontFamily: `poppins`,\n                marginTop: `35px`,\n              }}\n            >\n              You do not have any comments!\n            </div>\n          )}\n        </div>\n        <div className=\"bg-overlay\" />\n      </section>\n    </>\n  );\n}\nexport default UserComments;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}