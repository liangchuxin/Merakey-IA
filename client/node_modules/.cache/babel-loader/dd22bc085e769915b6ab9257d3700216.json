{"ast":null,"code":"import{useNavigate}from\"react-router-dom\";import React from\"react\";import{ToastContainer,toast,Slide}from\"react-toastify\";export var SignUpUser=function SignUpUser(username,email,password){var data={username:username,email:email,password:password};fetch(\"http://localhost:8080/api/auth/signup\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(data)}).then(function(response){// 注册成功返回200，失败返回原因\nif(!response.ok){return response.text().then(function(text){toast.error(JSON.parse(text).message,{position:toast.POSITION.BOTTOM_RIGHT});// alert(JSON.parse(text).message);\n});}else{return response.json();}}).then(function(data){var profile={id:data.id,displayName:data.username};console.log(\"profile: \"+JSON.stringify(profile));fetch(\"http://localhost:8080/api/profiles\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(profile)}).then(function(response){toast.success(\"User was registered sucessfully!\",{position:toast.POSITION.BOTTOM_RIGHT,className:\"foo-bar\",onClose:function onClose(){window.location.href=\"/login\";return response.json();}});});console.log(\"Success:\",data);console.log(\"Status code: \"+data.status);}).catch(function(error){console.error(\"Error:\",error);});};","map":{"version":3,"names":["useNavigate","React","ToastContainer","toast","Slide","SignUpUser","username","email","password","data","fetch","method","headers","body","JSON","stringify","then","response","ok","text","error","parse","message","position","POSITION","BOTTOM_RIGHT","json","profile","id","displayName","console","log","success","className","onClose","window","location","href","status","catch"],"sources":["/Users/celia/Projects/Merakey/client/src/components/utilities/signUpUser.js"],"sourcesContent":["import { useNavigate } from \"react-router-dom\";\nimport React from \"react\";\nimport { ToastContainer, toast, Slide } from \"react-toastify\";\n\nexport const SignUpUser = (username, email, password) => {\n  const data = {\n    username: username,\n    email: email,\n    password: password,\n  };\n  fetch(`http://localhost:8080/api/auth/signup`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  })\n    .then((response) => {\n      // 注册成功返回200，失败返回原因\n      if (!response.ok) {\n        return response.text().then((text) => {\n          toast.error(JSON.parse(text).message, {\n            position: toast.POSITION.BOTTOM_RIGHT,\n          });\n          // alert(JSON.parse(text).message);\n        });\n      } else {\n        return response.json();\n      }\n    })\n    .then((data) => {\n      const profile = {\n        id: data.id,\n        displayName: data.username,\n      };\n      console.log(\"profile: \" + JSON.stringify(profile));\n      fetch(`http://localhost:8080/api/profiles`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(profile),\n      }).then((response) => {\n        toast.success(\"User was registered sucessfully!\", {\n          position: toast.POSITION.BOTTOM_RIGHT,\n          className: \"foo-bar\",\n          onClose: () => {\n            window.location.href = \"/login\";\n            return response.json();\n          },\n        });\n      });\n      console.log(\"Success:\", data);\n      console.log(\"Status code: \" + data.status);\n    })\n    .catch((error) => {\n      console.error(\"Error:\", error);\n    });\n};\n"],"mappings":"AAAA,OAASA,WAAT,KAA4B,kBAA5B,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,cAAT,CAAyBC,KAAzB,CAAgCC,KAAhC,KAA6C,gBAA7C,CAEA,MAAO,IAAMC,WAAU,CAAG,QAAbA,WAAa,CAACC,QAAD,CAAWC,KAAX,CAAkBC,QAAlB,CAA+B,CACvD,GAAMC,KAAI,CAAG,CACXH,QAAQ,CAAEA,QADC,CAEXC,KAAK,CAAEA,KAFI,CAGXC,QAAQ,CAAEA,QAHC,CAAb,CAKAE,KAAK,yCAA0C,CAC7CC,MAAM,CAAE,MADqC,CAE7CC,OAAO,CAAE,CACP,eAAgB,kBADT,CAFoC,CAK7CC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,IAAf,CALuC,CAA1C,CAAL,CAOGO,IAPH,CAOQ,SAACC,QAAD,CAAc,CAClB;AACA,GAAI,CAACA,QAAQ,CAACC,EAAd,CAAkB,CAChB,MAAOD,SAAQ,CAACE,IAAT,GAAgBH,IAAhB,CAAqB,SAACG,IAAD,CAAU,CACpChB,KAAK,CAACiB,KAAN,CAAYN,IAAI,CAACO,KAAL,CAAWF,IAAX,EAAiBG,OAA7B,CAAsC,CACpCC,QAAQ,CAAEpB,KAAK,CAACqB,QAAN,CAAeC,YADW,CAAtC,EAGA;AACD,CALM,CAAP,CAMD,CAPD,IAOO,CACL,MAAOR,SAAQ,CAACS,IAAT,EAAP,CACD,CACF,CAnBH,EAoBGV,IApBH,CAoBQ,SAACP,IAAD,CAAU,CACd,GAAMkB,QAAO,CAAG,CACdC,EAAE,CAAEnB,IAAI,CAACmB,EADK,CAEdC,WAAW,CAAEpB,IAAI,CAACH,QAFJ,CAAhB,CAIAwB,OAAO,CAACC,GAAR,CAAY,YAAcjB,IAAI,CAACC,SAAL,CAAeY,OAAf,CAA1B,EACAjB,KAAK,sCAAuC,CAC1CC,MAAM,CAAE,MADkC,CAE1CC,OAAO,CAAE,CACP,eAAgB,kBADT,CAFiC,CAK1CC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeY,OAAf,CALoC,CAAvC,CAAL,CAMGX,IANH,CAMQ,SAACC,QAAD,CAAc,CACpBd,KAAK,CAAC6B,OAAN,CAAc,kCAAd,CAAkD,CAChDT,QAAQ,CAAEpB,KAAK,CAACqB,QAAN,CAAeC,YADuB,CAEhDQ,SAAS,CAAE,SAFqC,CAGhDC,OAAO,CAAE,kBAAM,CACbC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,QAAvB,CACA,MAAOpB,SAAQ,CAACS,IAAT,EAAP,CACD,CAN+C,CAAlD,EAQD,CAfD,EAgBAI,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBtB,IAAxB,EACAqB,OAAO,CAACC,GAAR,CAAY,gBAAkBtB,IAAI,CAAC6B,MAAnC,EACD,CA5CH,EA6CGC,KA7CH,CA6CS,SAACnB,KAAD,CAAW,CAChBU,OAAO,CAACV,KAAR,CAAc,QAAd,CAAwBA,KAAxB,EACD,CA/CH,EAgDD,CAtDM"},"metadata":{},"sourceType":"module"}