{"ast":null,"code":"import React,{useState}from\"react\";// import {\n//   HashRouter as Router,\n//   Switch,\n//   Route,\n//   Routes,\n//   Link,\n//   Redirect,\n// } from \"react-router-dom\";\nimport{BrowserRouter,Routes,Route,Navigate}from\"react-router-dom\";import{useEffect}from\"react\";import logo from\"./logo.svg\";import\"./App.css\";import NavBar from\"./components/navBar\";import HomePage from\"./components/homePage\";import GameDetails from\"./components/gameDetails\";import PlayGame from\"./components/playGame\";import AboutPage from\"./components/aboutPage\";import SubjectsPage from\"./components/subjectsPage\";import SearchPage from\"./components/searchPage\";import Login from\"./components/login\";import SignUp from\"./components/signup\";import UserHome from\"./components/user/userHome\";import PastProblems from\"./components/user/pastProblems\";import YourGames from\"./components/user/yourGames\";import UserComments from\"./components/user/userComments\";import AddStory from\"./components/user/addStory\";import EditStory from\"./components/user/editStory\";import GameHistory from\"./components/user/gameHistory\";import UserSettings from\"./components/user/userSettings\";import TopicsPage from\"./components/topicsPage\";import IsLoggedIn,{getCurrentUser}from\"./components/utilities/loginStatus\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){if(getCurrentUser){var username=getCurrentUser.username;var email=getCurrentUser.email;var id=getCurrentUser.id;var roles=[];getCurrentUser.roles.forEach(function(x,i){return roles.push(x.slice(5).toLowerCase());});}return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(React.StrictMode,{children:/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(HomePage,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/games/:id\",element:/*#__PURE__*/_jsx(GameDetails,{})}),/*#__PURE__*/_jsx(Route,{path:\"/games/:id/play/:topic\",element:/*#__PURE__*/_jsx(PlayGame,{})}),/*#__PURE__*/_jsx(Route,{path:\"/about\",element:/*#__PURE__*/_jsx(AboutPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/subjects\",element:/*#__PURE__*/_jsx(SubjectsPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/search/:query\",element:/*#__PURE__*/_jsx(SearchPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/search/\",element:/*#__PURE__*/_jsx(SearchPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/subjects/:subject\",element:/*#__PURE__*/_jsx(TopicsPage,{})}),IsLoggedIn()&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/user\"})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/user\"})}),/*#__PURE__*/_jsx(Route,{path:\"/user\",element:/*#__PURE__*/_jsx(UserHome,{})}),/*#__PURE__*/_jsx(Route,{path:\"/user/past-problems\",element:/*#__PURE__*/_jsx(PastProblems,{})}),/*#__PURE__*/_jsx(Route,{path:\"/user/games\",element:/*#__PURE__*/_jsx(YourGames,{})}),/*#__PURE__*/_jsx(Route,{path:\"/user/comments\",element:/*#__PURE__*/_jsx(UserComments,{})}),/*#__PURE__*/_jsx(Route,{path:\"/user/add\",element:/*#__PURE__*/_jsx(AddStory,{})}),/*#__PURE__*/_jsx(Route,{path:\"/user/edit/:gameid\",element:/*#__PURE__*/_jsx(EditStory,{})}),/*#__PURE__*/_jsx(Route,{path:\"/user/history\",element:/*#__PURE__*/_jsx(GameHistory,{})}),/*#__PURE__*/_jsx(Route,{path:\"/user/settings\",element:/*#__PURE__*/_jsx(UserSettings,{})})]}),!IsLoggedIn()&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/user\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/user/:anything\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/login/\"})}),/*#__PURE__*/_jsx(Route,{path:\"/user/:anything/:anything\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/login/\"})})]}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(SignUp,{})})]})]})})});}export default App;","map":{"version":3,"names":["React","useState","BrowserRouter","Routes","Route","Navigate","useEffect","logo","NavBar","HomePage","GameDetails","PlayGame","AboutPage","SubjectsPage","SearchPage","Login","SignUp","UserHome","PastProblems","YourGames","UserComments","AddStory","EditStory","GameHistory","UserSettings","TopicsPage","IsLoggedIn","getCurrentUser","App","username","email","id","roles","forEach","x","i","push","slice","toLowerCase"],"sources":["/Users/celia/Projects/Merakey/client/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\n// import {\n//   HashRouter as Router,\n//   Switch,\n//   Route,\n//   Routes,\n//   Link,\n//   Redirect,\n// } from \"react-router-dom\";\nimport { BrowserRouter, Routes, Route, Navigate } from \"react-router-dom\";\nimport { useEffect } from \"react\";\n\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport NavBar from \"./components/navBar\";\nimport HomePage from \"./components/homePage\";\nimport GameDetails from \"./components/gameDetails\";\nimport PlayGame from \"./components/playGame\";\nimport AboutPage from \"./components/aboutPage\";\nimport SubjectsPage from \"./components/subjectsPage\";\nimport SearchPage from \"./components/searchPage\";\nimport Login from \"./components/login\";\nimport SignUp from \"./components/signup\";\nimport UserHome from \"./components/user/userHome\";\nimport PastProblems from \"./components/user/pastProblems\";\nimport YourGames from \"./components/user/yourGames\";\nimport UserComments from \"./components/user/userComments\";\nimport AddStory from \"./components/user/addStory\";\nimport EditStory from \"./components/user/editStory\";\nimport GameHistory from \"./components/user/gameHistory\";\nimport UserSettings from \"./components/user/userSettings\";\nimport TopicsPage from \"./components/topicsPage\";\n\nimport IsLoggedIn, { getCurrentUser } from \"./components/utilities/loginStatus\";\n\nfunction App() {\n  if (getCurrentUser) {\n    var username = getCurrentUser.username;\n    var email = getCurrentUser.email;\n    var id = getCurrentUser.id;\n    var roles = [];\n    getCurrentUser.roles.forEach((x, i) =>\n      roles.push(x.slice(5).toLowerCase())\n    );\n  }\n  return (\n    <div className=\"App\">\n      <React.StrictMode>\n        <BrowserRouter>\n          <NavBar />\n          <Routes>\n            <Route exact path=\"/\" element={<HomePage />} />\n            <Route exact path=\"/games/:id\" element={<GameDetails />} />\n            <Route path=\"/games/:id/play/:topic\" element={<PlayGame />} />\n            <Route path=\"/about\" element={<AboutPage />} />\n            <Route path=\"/subjects\" element={<SubjectsPage />} />\n            <Route path=\"/search/:query\" element={<SearchPage />} />\n            <Route path=\"/search/\" element={<SearchPage />} />\n            <Route path=\"/subjects/:subject\" element={<TopicsPage />} />\n\n            {IsLoggedIn() && (\n              <>\n                <Route path=\"/login\" element={<Navigate to=\"/user\" />} />\n                <Route path=\"/signup\" element={<Navigate to=\"/user\" />} />\n                <Route path=\"/user\" element={<UserHome />} />\n                <Route path=\"/user/past-problems\" element={<PastProblems />} />\n                <Route path=\"/user/games\" element={<YourGames />} />\n                <Route path=\"/user/comments\" element={<UserComments />} />\n                <Route path=\"/user/add\" element={<AddStory />} />\n                <Route path=\"/user/edit/:gameid\" element={<EditStory />} />\n                <Route path=\"/user/history\" element={<GameHistory />} />\n                <Route path=\"/user/settings\" element={<UserSettings />} />\n              </>\n            )}\n            {!IsLoggedIn() && (\n              <>\n                <Route exact path=\"/user\" element={<Navigate to=\"/login\" />} />\n                <Route\n                  path=\"/user/:anything\"\n                  element={<Navigate to=\"/login/\" />}\n                />\n                <Route\n                  path=\"/user/:anything/:anything\"\n                  element={<Navigate to=\"/login/\" />}\n                />\n              </>\n            )}\n            <Route path=\"/login\" element={<Login />} />\n            <Route path=\"/signup\" element={<SignUp />} />\n            {/* users */}\n          </Routes>\n        </BrowserRouter>\n      </React.StrictMode>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}